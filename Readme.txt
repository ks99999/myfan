Вступление.
Этот проект является логическим продолжением серии авторских авторегулировщиков PWM кулеров для ригов.
И создан по мотивам таких автофанов как coolboxfan, donnager autofan и др.
Реализовано управление прямо из интерфейса HiveOS. Есть так же темепературный датчик.
Проект состоит из двух частей: программной и аппаратной.
Аппаратная часть - любая ардуино-совместимая платформа с USB интерфесом.
Программная часть - набор скриптов для взаимодействия с HiveOS.

Аппаратная часть.
Залить скетч в ардуину, предварительно распаковав библиотеку troyka-DHT
Подключить датчик DHT11 к D2 выводу (можно без датчика, тогда не будет температуры в HiveOS)
Подтянуть вывод D3 к земле, иначе при запуске платы кулера будут работать на 100% пару секунд (при каждом ребуте рига)
ШИМ модуляция будет на D3 его надо соединить со входом PWM кулера
Работа проверялась на ардуино с чипом CH340 и совместимой платой LGT8F328P

Программная часть.
выполнить команду curl https://raw.githubusercontent.com/ks99999/myfan/main/myfan-setup.sh | bash
которая скачает и установит все необходимые скрипты
Установщик выведет сообщение об успешной или неуспешной установке
После установки, если подключена плата, в HiveOS появится снежинка с возможностью управлять внешними кулером
При обновлении HiveOS возможна перезапись файлов myfan, тогда надо повторить установку программной части.

Ограничения myfan:
не поддерживает калибровку
не поддерживает раздельное регулирование кулерами
В скетче зашито стартовое значение PWM=2% для некоторых кулеров это может быть мало для начала вращения.
Надо либо поменять в скетче, либо ничего не делать - myfan раскрутит кулеры в процессе нагрева карт.

У автора myfan подключен к Fan hub одним пином PWM. Этого достаточно для управления до 10 кулеров.
Кулера предварительно надо отобрать, чтобы они работали одинаково при одном и том же сигнале PWM.
Автор делал это например через замер потребляемого тока кулером при фиксированном PWM.
